---
description: Analytics algorithm implementation details for core business metrics calculations in construction project tracking
---

# === USER INSTRUCTIONS ===
---
description: Analytics algorithms specification for pipeline management including win rates, projections, and utilization modeling
alwaysApply: false
---

# Analytics Algorithms

## Core Analytics Components

### 1. Win Rate Analysis Engine (Importance: 95)

Calculates weighted win probabilities based on:

- Historical performance by agency
- Project magnitude range ($0-10M, $10-25M, $25-75M, $75M+)
- Set-aside category matching
- Geographic region success rates

**Implementation**: Rolling 90-day window with 5-sample minimum threshold

```typescript
// Key calculation
winRate = successfulBids / totalBids (last 90 days)
weightedWinRate = winRate * magnitudeWeight * regionWeight
```

### 2. What-If Analysis System (Importance: 90)

Simulates pipeline outcomes with adjustable parameters:

- Win rate modifications (Â±20% range)
- Award timing shifts
- Value distribution changes
- Geographic focus adjustments

**Key Files**:

- `frontend/src/components/dashboard/WhatIfDrawer.tsx`
- `frontend/src/utils/calculations/pipeline-metrics.ts`

### 3. Capacity Utilization Modeling (Importance: 85)

Tracks resource allocation across pipeline stages:

```typescript
// Capacity calculation
capacityUtilization = (activeProjectValue / baseCapacity) * 100
// baseCapacity = $30M default

// Warning thresholds
WARNING_THRESHOLD = 80%  // Yellow alert
CRITICAL_THRESHOLD = 100% // Red alert
```

### 4. Pipeline Velocity Calculator (Importance: 85)

Measures progression speed through stages:

- Stage transition durations
- Bottleneck identification
- Stalled project detection (>1.5x average duration)
- Completion rate trending

### 5. Annual Target Metrics (Importance: 80)

```typescript
// Run rate calculation
runRate = ytdAwards / monthsElapsed;
projectedAnnual = runRate * 12;

// Required volume
requiredVolume = (annualTarget - ytdAwards) / avgProjectValue;
```

## Key Business Rules

| Rule                     | Threshold         | Action                          |
| ------------------------ | ----------------- | ------------------------------- |
| Minimum win rate samples | 5 bids            | Use default 25% if insufficient |
| Capacity warning         | 80%               | Yellow indicator                |
| Capacity critical        | 100%              | Red indicator, block new bids   |
| Stalled detection        | 1.5x avg duration | Flag for review                 |
| Rolling window           | 90 days           | Win rate calculation period     |

## Stage Duration Thresholds

| Stage          | Expected Duration | Stall Threshold |
| -------------- | ----------------- | --------------- |
| Proposal       | 45 days           | 68 days         |
| Negotiation    | 30 days           | 45 days         |
| Award Decision | 15 days           | 23 days         |

$END$

_Context added by Giga analytics-algorithms - Win rate calculations, capacity modeling, and pipeline velocity tracking._
# === END USER INSTRUCTIONS ===

# analytics-algorithms

Core Analytics Components:

1. Win Rate Calculation Engine
Path: src/services/metrics/win-rate.service.ts
- Rolling 90-day win rate calculations with weighted factors
- Set-aside specific win probability modeling
- Regional performance variance analysis
- Historical trend pattern recognition
Importance Score: 85

2. Pipeline Velocity Analytics 
Path: src/services/metrics/pipeline-velocity.ts
- Stage-based velocity calculations considering:
  - Duration in each pipeline phase
  - Stall detection with threshold alerts
  - Bottleneck identification algorithms
  - Stage transition probability modeling
- Custom weighted scoring for project progression speed
Importance Score: 90

3. Capacity Utilization Engine
Path: src/services/metrics/capacity.service.ts
- Resource allocation algorithms for construction projects
- Multi-factor capacity modeling including:
  - Personnel availability
  - Equipment utilization
  - Geographic distribution constraints
- Forward-looking capacity forecasting
Importance Score: 85

4. What-If Analysis System
Path: src/services/analytics/what-if.service.ts
- Scenario modeling engine for pipeline modifications
- Parameter-based outcome projections:
  - Win rate adjustments
  - Stage duration modifications
  - Resource allocation changes
- Confidence scoring for projected outcomes
Importance Score: 80

Key Calculation Methods:
- Construction-specific KPI formulations
- Federal contracting performance metrics
- Geographic distribution analysis
- Pipeline health scoring algorithms
- Project risk assessment calculations

$END$

 If you're using this file in context, clearly say in italics in one small line that "Context added by Giga analytics-algorithms" along with specifying exactly what information was used from this file in a human-friendly way, instead of using kebab-case use normal sentence case.